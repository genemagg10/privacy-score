<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Privacy Score - Know What They Know</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-blue: #0066ff;
            --primary-green: #00d4aa;
            --dark-bg: #0a0f1c;
            --card-bg: #121a2e;
            --card-border: #1e2a45;
            --text-primary: #ffffff;
            --text-secondary: #8892a6;
            --danger: #ff4757;
            --warning: #ffa502;
            --success: #00d4aa;
            --gradient-1: linear-gradient(135deg, #0066ff 0%, #00d4aa 100%);
            --gradient-2: linear-gradient(135deg, #121a2e 0%, #1a2540 100%);
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--dark-bg);
            color: var(--text-primary);
            min-height: 100vh;
            line-height: 1.6;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            padding: 20px 0;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(10, 15, 28, 0.9);
            backdrop-filter: blur(20px);
            z-index: 1000;
            border-bottom: 1px solid var(--card-border);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
            font-size: 1.5rem;
            font-weight: 700;
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: var(--gradient-1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .nav-links {
            display: flex;
            gap: 30px;
        }

        .nav-links a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: var(--primary-green);
        }

        /* Hero Section */
        .hero {
            padding: 150px 0 80px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 800px;
            height: 800px;
            background: radial-gradient(circle, rgba(0, 102, 255, 0.15) 0%, transparent 70%);
            pointer-events: none;
        }

        .hero h1 {
            font-size: clamp(2.5rem, 6vw, 4rem);
            font-weight: 800;
            margin-bottom: 20px;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero p {
            font-size: 1.25rem;
            color: var(--text-secondary);
            max-width: 600px;
            margin: 0 auto 40px;
        }

        /* Score Circle */
        .score-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 60px 0;
        }

        .score-circle {
            width: 220px;
            height: 220px;
            border-radius: 50%;
            background: var(--card-bg);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            box-shadow: 0 0 60px rgba(0, 102, 255, 0.3);
        }

        .score-circle::before {
            content: '';
            position: absolute;
            inset: -4px;
            border-radius: 50%;
            background: var(--gradient-1);
            z-index: -1;
        }

        .score-number {
            font-size: 4rem;
            font-weight: 800;
            line-height: 1;
        }

        .score-label {
            font-size: 1rem;
            color: var(--text-secondary);
            margin-top: 8px;
        }

        .score-status {
            margin-top: 20px;
            padding: 10px 24px;
            border-radius: 30px;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .score-status.poor { background: rgba(255, 71, 87, 0.2); color: var(--danger); }
        .score-status.fair { background: rgba(255, 165, 2, 0.2); color: var(--warning); }
        .score-status.good { background: rgba(0, 212, 170, 0.2); color: var(--success); }

        /* Scanning Animation */
        .scanning {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-top: 30px;
            color: var(--text-secondary);
        }

        .scanning-dots {
            display: flex;
            gap: 4px;
        }

        .scanning-dots span {
            width: 8px;
            height: 8px;
            background: var(--primary-blue);
            border-radius: 50%;
            animation: pulse 1.4s infinite ease-in-out;
        }

        .scanning-dots span:nth-child(2) { animation-delay: 0.2s; }
        .scanning-dots span:nth-child(3) { animation-delay: 0.4s; }

        @keyframes pulse {
            0%, 80%, 100% { transform: scale(0.6); opacity: 0.5; }
            40% { transform: scale(1); opacity: 1; }
        }

        /* Data Cards Grid */
        .data-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 24px;
            margin: 60px 0;
        }

        .data-card {
            background: var(--gradient-2);
            border: 1px solid var(--card-border);
            border-radius: 16px;
            padding: 28px;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .data-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 14px;
            margin-bottom: 20px;
        }

        .card-icon {
            width: 48px;
            height: 48px;
            background: var(--gradient-1);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }

        .card-title {
            font-size: 1.2rem;
            font-weight: 600;
        }

        .card-subtitle {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        .data-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid var(--card-border);
        }

        .data-item:last-child {
            border-bottom: none;
        }

        .data-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .data-value {
            font-weight: 500;
            text-align: right;
            max-width: 60%;
            word-break: break-word;
        }

        .risk-badge {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
        }

        .risk-high { background: rgba(255, 71, 87, 0.2); color: var(--danger); }
        .risk-medium { background: rgba(255, 165, 2, 0.2); color: var(--warning); }
        .risk-low { background: rgba(0, 212, 170, 0.2); color: var(--success); }

        /* Recommendations Section */
        .recommendations {
            background: var(--gradient-2);
            border: 1px solid var(--card-border);
            border-radius: 20px;
            padding: 40px;
            margin: 60px 0;
        }

        .recommendations h2 {
            font-size: 1.8rem;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .rec-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
        }

        .rec-item {
            background: rgba(0, 102, 255, 0.1);
            border: 1px solid rgba(0, 102, 255, 0.2);
            border-radius: 12px;
            padding: 20px;
            display: flex;
            gap: 16px;
            transition: background 0.3s;
        }

        .rec-item:hover {
            background: rgba(0, 102, 255, 0.15);
        }

        .rec-icon {
            width: 40px;
            height: 40px;
            background: var(--gradient-1);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .rec-content h4 {
            font-size: 1rem;
            margin-bottom: 6px;
        }

        .rec-content p {
            font-size: 0.85rem;
            color: var(--text-secondary);
        }

        /* Social Detection */
        .social-grid {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-top: 16px;
        }

        .social-badge {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 8px 16px;
            background: rgba(0, 212, 170, 0.1);
            border: 1px solid rgba(0, 212, 170, 0.3);
            border-radius: 25px;
            font-size: 0.9rem;
        }

        .social-badge.detected {
            background: rgba(255, 71, 87, 0.1);
            border-color: rgba(255, 71, 87, 0.3);
        }

        .social-badge.not-detected {
            background: rgba(0, 212, 170, 0.1);
            border-color: rgba(0, 212, 170, 0.3);
        }

        /* Canvas Fingerprint */
        #canvas-fingerprint {
            display: none;
        }

        .fingerprint-visual {
            width: 100%;
            height: 60px;
            background: var(--dark-bg);
            border-radius: 8px;
            margin-top: 16px;
            overflow: hidden;
            position: relative;
        }

        .fingerprint-bar {
            height: 100%;
            background: var(--gradient-1);
            transition: width 1s ease-out;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 40px 0;
            border-top: 1px solid var(--card-border);
            color: var(--text-secondary);
        }

        footer a {
            color: var(--primary-green);
            text-decoration: none;
        }

        /* Easter Egg */
        .easter-egg {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(10, 15, 28, 0.95);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            gap: 20px;
            animation: fadeIn 0.5s;
        }

        .easter-egg.active {
            display: flex;
        }

        .easter-egg h2 {
            font-size: 2rem;
            background: var(--gradient-1);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .easter-egg p {
            color: var(--text-secondary);
            max-width: 500px;
            text-align: center;
        }

        .matrix-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1999;
            opacity: 0;
            transition: opacity 0.5s;
        }

        .matrix-bg.active {
            opacity: 1;
        }

        .close-easter {
            margin-top: 20px;
            padding: 12px 30px;
            background: var(--gradient-1);
            border: none;
            border-radius: 8px;
            color: white;
            font-weight: 600;
            cursor: pointer;
            font-size: 1rem;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Mobile Responsive */
        @media (max-width: 768px) {
            .nav-links {
                display: none;
            }

            .hero {
                padding: 120px 0 60px;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .hero p {
                font-size: 1rem;
            }

            .score-circle {
                width: 180px;
                height: 180px;
            }

            .score-number {
                font-size: 3rem;
            }

            .data-grid {
                grid-template-columns: 1fr;
            }

            .data-card {
                padding: 20px;
            }

            .recommendations {
                padding: 24px;
            }

            .rec-grid {
                grid-template-columns: 1fr;
            }

            .data-value {
                max-width: 50%;
                font-size: 0.85rem;
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 0 16px;
            }

            .logo {
                font-size: 1.2rem;
            }

            .logo-icon {
                width: 32px;
                height: 32px;
            }

            .card-header {
                flex-direction: column;
                text-align: center;
            }

            .data-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 6px;
            }

            .data-value {
                max-width: 100%;
            }
        }

        /* Konami visual hint */
        .konami-hint {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 8px 16px;
            background: var(--card-bg);
            border: 1px solid var(--card-border);
            border-radius: 8px;
            font-size: 0.75rem;
            color: var(--text-secondary);
            opacity: 0;
            transition: opacity 0.3s;
            cursor: help;
        }

        .konami-hint.show {
            opacity: 0.6;
        }

        .konami-hint:hover {
            opacity: 1;
        }
    </style>
</head>
<body>
    <canvas id="matrix-canvas" class="matrix-bg"></canvas>

    <header>
        <div class="container header-content">
            <div class="logo">
                <div class="logo-icon">üõ°Ô∏è</div>
                <span>PrivacyScore</span>
            </div>
            <nav class="nav-links">
                <a href="#score">Your Score</a>
                <a href="#data">Your Data</a>
                <a href="#tips">Privacy Tips</a>
            </nav>
        </div>
    </header>

    <main>
        <section class="hero">
            <div class="container">
                <h1>Know What They Know About You</h1>
                <p>Every website you visit learns more about you than you think. See exactly what information you're exposing and how to protect yourself.</p>

                <div class="score-container" id="score">
                    <div class="score-circle">
                        <span class="score-number" id="privacy-score">--</span>
                        <span class="score-label">Privacy Score</span>
                    </div>
                    <div class="score-status" id="score-status">Calculating...</div>
                    <div class="scanning" id="scanning">
                        <div class="scanning-dots">
                            <span></span>
                            <span></span>
                            <span></span>
                        </div>
                        <span>Analyzing your digital footprint...</span>
                    </div>
                </div>
            </div>
        </section>

        <section id="data">
            <div class="container">
                <div class="data-grid">
                    <!-- Browser & Device Card -->
                    <div class="data-card">
                        <div class="card-header">
                            <div class="card-icon">üíª</div>
                            <div>
                                <div class="card-title">Browser & Device</div>
                                <div class="card-subtitle">Hardware and software fingerprint</div>
                            </div>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Browser</span>
                            <span class="data-value" id="browser-name">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Operating System</span>
                            <span class="data-value" id="os-name">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Device Type</span>
                            <span class="data-value" id="device-type">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Screen Resolution</span>
                            <span class="data-value" id="screen-res">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Color Depth</span>
                            <span class="data-value" id="color-depth">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Device Memory</span>
                            <span class="data-value" id="device-memory">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">CPU Cores</span>
                            <span class="data-value" id="cpu-cores">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Touch Support</span>
                            <span class="data-value" id="touch-support">Detecting...</span>
                        </div>
                    </div>

                    <!-- Network & Location Card -->
                    <div class="data-card">
                        <div class="card-header">
                            <div class="card-icon">üåê</div>
                            <div>
                                <div class="card-title">Network & Location</div>
                                <div class="card-subtitle">Connection and geographic data</div>
                            </div>
                        </div>
                        <div class="data-item">
                            <span class="data-label">IP Address</span>
                            <span class="data-value" id="ip-address">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Approximate Location</span>
                            <span class="data-value" id="location">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">ISP / Provider</span>
                            <span class="data-value" id="isp">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Connection Type</span>
                            <span class="data-value" id="connection-type">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Timezone</span>
                            <span class="data-value" id="timezone">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Language</span>
                            <span class="data-value" id="language">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">VPN Detected</span>
                            <span class="data-value" id="vpn-status">Checking...</span>
                        </div>
                    </div>

                    <!-- Tracking & Cookies Card -->
                    <div class="data-card">
                        <div class="card-header">
                            <div class="card-icon">üç™</div>
                            <div>
                                <div class="card-title">Tracking & Cookies</div>
                                <div class="card-subtitle">How sites track you</div>
                            </div>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Cookies Enabled</span>
                            <span class="data-value" id="cookies-enabled">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Third-Party Cookies</span>
                            <span class="data-value" id="third-party-cookies">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Local Storage</span>
                            <span class="data-value" id="local-storage">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Session Storage</span>
                            <span class="data-value" id="session-storage">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">IndexedDB</span>
                            <span class="data-value" id="indexed-db">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Do Not Track</span>
                            <span class="data-value" id="dnt-status">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Ad Blocker</span>
                            <span class="data-value" id="ad-blocker">Detecting...</span>
                        </div>
                    </div>

                    <!-- Browser Fingerprint Card -->
                    <div class="data-card">
                        <div class="card-header">
                            <div class="card-icon">üîç</div>
                            <div>
                                <div class="card-title">Browser Fingerprint</div>
                                <div class="card-subtitle">Unique identifier based on your setup</div>
                            </div>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Canvas Fingerprint</span>
                            <span class="data-value" id="canvas-fp">Generating...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">WebGL Renderer</span>
                            <span class="data-value" id="webgl-renderer">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Audio Context</span>
                            <span class="data-value" id="audio-fp">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Installed Fonts</span>
                            <span class="data-value" id="fonts-count">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Installed Plugins</span>
                            <span class="data-value" id="plugins-count">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Uniqueness Score</span>
                            <span class="data-value" id="uniqueness">Calculating...</span>
                        </div>
                        <canvas id="canvas-fingerprint" width="200" height="50"></canvas>
                        <div class="fingerprint-visual">
                            <div class="fingerprint-bar" id="fp-bar"></div>
                        </div>
                    </div>

                    <!-- Social Media Detection Card -->
                    <div class="data-card">
                        <div class="card-header">
                            <div class="card-icon">üë§</div>
                            <div>
                                <div class="card-title">Social Media Detection</div>
                                <div class="card-subtitle">Accounts you may be logged into</div>
                            </div>
                        </div>
                        <p style="color: var(--text-secondary); font-size: 0.9rem; margin-bottom: 12px;">
                            Websites can detect if you're logged into social platforms through various techniques.
                        </p>
                        <div class="social-grid" id="social-detection">
                            <!-- Populated by JavaScript -->
                        </div>
                    </div>

                    <!-- Hardware & Sensors Card -->
                    <div class="data-card">
                        <div class="card-header">
                            <div class="card-icon">üì±</div>
                            <div>
                                <div class="card-title">Hardware & Sensors</div>
                                <div class="card-subtitle">Physical device capabilities</div>
                            </div>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Battery Level</span>
                            <span class="data-value" id="battery-level">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Charging Status</span>
                            <span class="data-value" id="charging-status">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Accelerometer</span>
                            <span class="data-value" id="accelerometer">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Gyroscope</span>
                            <span class="data-value" id="gyroscope">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Camera Access</span>
                            <span class="data-value" id="camera-access">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Microphone Access</span>
                            <span class="data-value" id="mic-access">Detecting...</span>
                        </div>
                        <div class="data-item">
                            <span class="data-label">Geolocation</span>
                            <span class="data-value" id="geolocation">Detecting...</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Recommendations Section -->
        <section id="tips">
            <div class="container">
                <div class="recommendations">
                    <h2>üõ°Ô∏è Improve Your Privacy</h2>
                    <div class="rec-grid" id="recommendations-grid">
                        <!-- Populated by JavaScript based on detected issues -->
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>Built to educate. Your data never leaves your browser.</p>
            <p style="margin-top: 10px; font-size: 0.85rem;">
                <a href="#" id="privacy-link">Privacy Focused</a> ‚Ä¢ Open Source
            </p>
        </div>
    </footer>

    <!-- Easter Egg Modal -->
    <div class="easter-egg" id="easter-egg">
        <h2>üéÆ Achievement Unlocked!</h2>
        <p>You found the secret! The Konami Code (‚Üë‚Üë‚Üì‚Üì‚Üê‚Üí‚Üê‚ÜíBA) still works in 2026. You're clearly someone who pays attention to details - that's exactly the mindset you need to protect your privacy online.</p>
        <p style="margin-top: 16px; color: var(--primary-green);">Here's a tip: The best privacy tool is skepticism. Question every permission request.</p>
        <button class="close-easter" onclick="closeEasterEgg()">Continue Browsing</button>
    </div>

    <div class="konami-hint" id="konami-hint">‚Üë‚Üë‚Üì‚Üì‚Üê‚Üí‚Üê‚ÜíBA</div>

    <script>
        // Privacy Score Calculator
        let privacyScore = 100;
        let issues = [];
        let recommendations = [];

        // Konami Code Easter Egg
        const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'KeyB', 'KeyA'];
        let konamiIndex = 0;
        let hintTimeout;

        document.addEventListener('keydown', (e) => {
            if (e.code === konamiCode[konamiIndex]) {
                konamiIndex++;

                // Show hint after first correct key
                if (konamiIndex === 2) {
                    document.getElementById('konami-hint').classList.add('show');
                    clearTimeout(hintTimeout);
                    hintTimeout = setTimeout(() => {
                        document.getElementById('konami-hint').classList.remove('show');
                    }, 5000);
                }

                if (konamiIndex === konamiCode.length) {
                    activateEasterEgg();
                    konamiIndex = 0;
                }
            } else {
                konamiIndex = 0;
            }
        });

        function activateEasterEgg() {
            document.getElementById('easter-egg').classList.add('active');
            document.getElementById('matrix-canvas').classList.add('active');
            startMatrix();
        }

        function closeEasterEgg() {
            document.getElementById('easter-egg').classList.remove('active');
            document.getElementById('matrix-canvas').classList.remove('active');
        }

        // Matrix Rain Effect
        function startMatrix() {
            const canvas = document.getElementById('matrix-canvas');
            const ctx = canvas.getContext('2d');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            const chars = 'PRIVACY01';
            const fontSize = 14;
            const columns = canvas.width / fontSize;
            const drops = Array(Math.floor(columns)).fill(1);

            function draw() {
                ctx.fillStyle = 'rgba(10, 15, 28, 0.05)';
                ctx.fillRect(0, 0, canvas.width, canvas.height);

                ctx.fillStyle = '#00d4aa';
                ctx.font = fontSize + 'px monospace';

                for (let i = 0; i < drops.length; i++) {
                    const text = chars[Math.floor(Math.random() * chars.length)];
                    ctx.fillText(text, i * fontSize, drops[i] * fontSize);

                    if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    drops[i]++;
                }
            }

            setInterval(draw, 33);
        }

        // Browser Detection
        function detectBrowser() {
            const ua = navigator.userAgent;
            let browser = 'Unknown';

            if (ua.includes('Firefox')) browser = 'Firefox';
            else if (ua.includes('Edg')) browser = 'Microsoft Edge';
            else if (ua.includes('Chrome')) browser = 'Chrome';
            else if (ua.includes('Safari')) browser = 'Safari';
            else if (ua.includes('Opera') || ua.includes('OPR')) browser = 'Opera';

            const version = ua.match(/(Firefox|Chrome|Safari|Edg|OPR)\/(\d+)/);
            if (version) browser += ' ' + version[2];

            return browser;
        }

        // OS Detection
        function detectOS() {
            const ua = navigator.userAgent;
            if (ua.includes('Windows NT 10')) return 'Windows 10/11';
            if (ua.includes('Windows')) return 'Windows';
            if (ua.includes('Mac OS X')) {
                const version = ua.match(/Mac OS X (\d+[._]\d+)/);
                return 'macOS ' + (version ? version[1].replace('_', '.') : '');
            }
            if (ua.includes('Linux')) return 'Linux';
            if (ua.includes('Android')) return 'Android';
            if (ua.includes('iOS') || ua.includes('iPhone') || ua.includes('iPad')) return 'iOS';
            return 'Unknown OS';
        }

        // Device Type Detection
        function detectDeviceType() {
            const ua = navigator.userAgent;
            if (/tablet|ipad|playbook|silk/i.test(ua)) return 'Tablet';
            if (/mobile|iphone|ipod|android|blackberry|opera mini|iemobile/i.test(ua)) return 'Mobile';
            return 'Desktop';
        }

        // Canvas Fingerprint
        function getCanvasFingerprint() {
            const canvas = document.getElementById('canvas-fingerprint');
            const ctx = canvas.getContext('2d');

            ctx.textBaseline = 'top';
            ctx.font = '14px Arial';
            ctx.fillStyle = '#f60';
            ctx.fillRect(125, 1, 62, 20);
            ctx.fillStyle = '#069';
            ctx.fillText('Privacy Test', 2, 15);
            ctx.fillStyle = 'rgba(102, 204, 0, 0.7)';
            ctx.fillText('Privacy Test', 4, 17);

            const dataUrl = canvas.toDataURL();
            let hash = 0;
            for (let i = 0; i < dataUrl.length; i++) {
                hash = ((hash << 5) - hash) + dataUrl.charCodeAt(i);
                hash = hash & hash;
            }
            return Math.abs(hash).toString(16).substring(0, 8).toUpperCase();
        }

        // WebGL Detection
        function getWebGLRenderer() {
            try {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl') || canvas.getContext('experimental-webgl');
                if (gl) {
                    const debugInfo = gl.getExtension('WEBGL_debug_renderer_info');
                    if (debugInfo) {
                        return gl.getParameter(debugInfo.UNMASKED_RENDERER_WEBGL);
                    }
                }
                return 'WebGL Supported';
            } catch (e) {
                return 'Not Available';
            }
        }

        // Audio Fingerprint
        function getAudioFingerprint() {
            try {
                const AudioContext = window.AudioContext || window.webkitAudioContext;
                if (AudioContext) {
                    return 'Detectable';
                }
                return 'Not Supported';
            } catch (e) {
                return 'Blocked';
            }
        }

        // Detect installed fonts (simplified)
        function detectFonts() {
            const testFonts = ['Arial', 'Verdana', 'Times New Roman', 'Georgia', 'Courier New', 'Comic Sans MS', 'Impact', 'Trebuchet MS', 'Palatino', 'Lucida Console'];
            let detected = 0;

            const testString = 'mmmmmmmmmmlli';
            const testSize = '72px';
            const canvas = document.createElement('canvas');
            const ctx = canvas.getContext('2d');

            const getWidth = (font) => {
                ctx.font = testSize + ' ' + font;
                return ctx.measureText(testString).width;
            };

            const baseWidth = getWidth('monospace');

            testFonts.forEach(font => {
                if (getWidth(font + ', monospace') !== baseWidth) {
                    detected++;
                }
            });

            return detected + '+ detected';
        }

        // Social Media Detection (checking for common indicators)
        function detectSocialLogins() {
            const socials = [
                { name: 'Google', detected: false },
                { name: 'Facebook', detected: false },
                { name: 'Twitter/X', detected: false },
                { name: 'LinkedIn', detected: false },
                { name: 'GitHub', detected: false },
                { name: 'Amazon', detected: false }
            ];

            // Check for various cookies and storage items
            // Note: This is a simplified demonstration
            const cookies = document.cookie;

            if (cookies.includes('SAPISID') || cookies.includes('SSID')) {
                socials[0].detected = true;
            }
            if (cookies.includes('c_user') || cookies.includes('xs')) {
                socials[1].detected = true;
            }

            // Check localStorage for common patterns
            try {
                for (let i = 0; i < localStorage.length; i++) {
                    const key = localStorage.key(i);
                    if (key && key.toLowerCase().includes('google')) socials[0].detected = true;
                    if (key && key.toLowerCase().includes('facebook')) socials[1].detected = true;
                    if (key && key.toLowerCase().includes('twitter')) socials[2].detected = true;
                }
            } catch (e) {}

            return socials;
        }

        // Check for ad blocker
        function detectAdBlocker() {
            return new Promise((resolve) => {
                const testAd = document.createElement('div');
                testAd.innerHTML = '&nbsp;';
                testAd.className = 'adsbox ad-banner ad-placement';
                testAd.style.cssText = 'position: absolute; left: -9999px; width: 1px; height: 1px;';
                document.body.appendChild(testAd);

                setTimeout(() => {
                    const blocked = testAd.offsetHeight === 0 || !testAd.clientHeight;
                    testAd.remove();
                    resolve(blocked);
                }, 100);
            });
        }

        // Get IP and location info
        async function getIPInfo() {
            try {
                const response = await fetch('https://ipapi.co/json/');
                const data = await response.json();
                return data;
            } catch (e) {
                return null;
            }
        }

        // Check battery status
        async function getBatteryInfo() {
            if ('getBattery' in navigator) {
                try {
                    const battery = await navigator.getBattery();
                    return {
                        level: Math.round(battery.level * 100) + '%',
                        charging: battery.charging ? 'Yes' : 'No'
                    };
                } catch (e) {
                    return { level: 'API Blocked', charging: 'API Blocked' };
                }
            }
            return { level: 'Not Supported', charging: 'Not Supported' };
        }

        // Check sensor permissions
        function checkSensorAccess(type) {
            if ('permissions' in navigator) {
                return navigator.permissions.query({ name: type })
                    .then(result => result.state)
                    .catch(() => 'Unknown');
            }
            return Promise.resolve('Not Supported');
        }

        // Generate recommendations based on issues found
        function generateRecommendations() {
            const recs = [
                {
                    icon: 'üîí',
                    title: 'Use a VPN',
                    description: 'Hide your IP address and encrypt your internet connection to prevent tracking.',
                    condition: true
                },
                {
                    icon: 'ü¶ä',
                    title: 'Switch to Firefox',
                    description: 'Firefox has better built-in privacy protections than Chrome.',
                    condition: document.getElementById('browser-name').textContent.includes('Chrome')
                },
                {
                    icon: 'üö´',
                    title: 'Install an Ad Blocker',
                    description: 'Block tracking scripts and ads that monitor your behavior.',
                    condition: document.getElementById('ad-blocker').textContent === 'Not Detected'
                },
                {
                    icon: 'üç™',
                    title: 'Clear Cookies Regularly',
                    description: 'Remove tracking cookies to reset your digital fingerprint.',
                    condition: true
                },
                {
                    icon: 'üìç',
                    title: 'Disable Location Access',
                    description: 'Only allow location access for apps that truly need it.',
                    condition: true
                },
                {
                    icon: 'üîê',
                    title: 'Use Private Browsing',
                    description: 'Open sensitive sessions in incognito/private mode.',
                    condition: true
                },
                {
                    icon: 'üì±',
                    title: 'Review App Permissions',
                    description: 'Revoke unnecessary camera, microphone, and sensor permissions.',
                    condition: true
                },
                {
                    icon: 'üîÑ',
                    title: 'Log Out of Social Media',
                    description: 'Stay logged out of social platforms when not using them to prevent cross-site tracking.',
                    condition: true
                },
                {
                    icon: 'üåê',
                    title: 'Use Privacy-Focused Search',
                    description: 'Switch to DuckDuckGo or Brave Search instead of Google.',
                    condition: true
                },
                {
                    icon: '‚úâÔ∏è',
                    title: 'Use Email Aliases',
                    description: 'Create email aliases for different services to prevent tracking.',
                    condition: true
                }
            ];

            const grid = document.getElementById('recommendations-grid');
            grid.innerHTML = '';

            recs.filter(r => r.condition).slice(0, 8).forEach(rec => {
                const item = document.createElement('div');
                item.className = 'rec-item';
                item.innerHTML = `
                    <div class="rec-icon">${rec.icon}</div>
                    <div class="rec-content">
                        <h4>${rec.title}</h4>
                        <p>${rec.description}</p>
                    </div>
                `;
                grid.appendChild(item);
            });
        }

        // Calculate and update privacy score
        function updatePrivacyScore() {
            let score = 100;

            // Deductions based on findings
            if (document.getElementById('cookies-enabled').textContent === 'Yes') score -= 5;
            if (document.getElementById('third-party-cookies').textContent === 'Allowed') score -= 10;
            if (document.getElementById('dnt-status').textContent === 'Not Enabled') score -= 5;
            if (document.getElementById('ad-blocker').textContent === 'Not Detected') score -= 15;
            if (document.getElementById('local-storage').textContent === 'Available') score -= 3;
            if (document.getElementById('webgl-renderer').textContent !== 'Not Available') score -= 8;
            if (document.getElementById('canvas-fp').textContent !== 'Blocked') score -= 8;
            if (document.getElementById('vpn-status').textContent === 'No') score -= 10;
            if (document.getElementById('geolocation').textContent === 'Available') score -= 5;

            // Social media deductions
            const socialBadges = document.querySelectorAll('.social-badge.detected');
            score -= socialBadges.length * 5;

            score = Math.max(0, Math.min(100, score));

            const scoreEl = document.getElementById('privacy-score');
            const statusEl = document.getElementById('score-status');

            // Animate score
            let current = 0;
            const interval = setInterval(() => {
                current += 2;
                if (current >= score) {
                    current = score;
                    clearInterval(interval);
                }
                scoreEl.textContent = current;
            }, 20);

            // Update status
            if (score >= 70) {
                statusEl.textContent = '‚úì Good Privacy';
                statusEl.className = 'score-status good';
            } else if (score >= 40) {
                statusEl.textContent = '‚ö† Fair Privacy';
                statusEl.className = 'score-status fair';
            } else {
                statusEl.textContent = '‚úó Poor Privacy';
                statusEl.className = 'score-status poor';
            }

            // Hide scanning animation
            document.getElementById('scanning').style.display = 'none';

            // Update fingerprint bar
            document.getElementById('fp-bar').style.width = (100 - score) + '%';
        }

        // Main initialization
        async function init() {
            // Basic browser info
            document.getElementById('browser-name').textContent = detectBrowser();
            document.getElementById('os-name').textContent = detectOS();
            document.getElementById('device-type').textContent = detectDeviceType();
            document.getElementById('screen-res').textContent = `${screen.width} √ó ${screen.height}`;
            document.getElementById('color-depth').textContent = `${screen.colorDepth}-bit`;
            document.getElementById('device-memory').textContent = navigator.deviceMemory ? `${navigator.deviceMemory} GB` : 'Not Available';
            document.getElementById('cpu-cores').textContent = navigator.hardwareConcurrency || 'Not Available';
            document.getElementById('touch-support').textContent = ('ontouchstart' in window) ? 'Yes' : 'No';

            // Timezone and language
            document.getElementById('timezone').textContent = Intl.DateTimeFormat().resolvedOptions().timeZone;
            document.getElementById('language').textContent = navigator.language;

            // Connection info
            if (navigator.connection) {
                document.getElementById('connection-type').textContent = navigator.connection.effectiveType?.toUpperCase() || 'Unknown';
            } else {
                document.getElementById('connection-type').textContent = 'Not Available';
            }

            // Storage and cookies
            document.getElementById('cookies-enabled').textContent = navigator.cookieEnabled ? 'Yes' : 'No';
            document.getElementById('local-storage').textContent = (typeof localStorage !== 'undefined') ? 'Available' : 'Blocked';
            document.getElementById('session-storage').textContent = (typeof sessionStorage !== 'undefined') ? 'Available' : 'Blocked';
            document.getElementById('indexed-db').textContent = (typeof indexedDB !== 'undefined') ? 'Available' : 'Blocked';
            document.getElementById('dnt-status').textContent = navigator.doNotTrack === '1' ? 'Enabled ‚úì' : 'Not Enabled';

            // Third-party cookies check
            document.getElementById('third-party-cookies').textContent = navigator.cookieEnabled ? 'Likely Allowed' : 'Blocked';

            // Fingerprinting
            document.getElementById('canvas-fp').textContent = getCanvasFingerprint();
            document.getElementById('webgl-renderer').textContent = getWebGLRenderer();
            document.getElementById('audio-fp').textContent = getAudioFingerprint();
            document.getElementById('fonts-count').textContent = detectFonts();
            document.getElementById('plugins-count').textContent = navigator.plugins.length + ' plugins';
            document.getElementById('uniqueness').textContent = 'Likely Unique';

            // Ad blocker
            const hasAdBlocker = await detectAdBlocker();
            document.getElementById('ad-blocker').textContent = hasAdBlocker ? 'Detected ‚úì' : 'Not Detected';

            // Social media detection
            const socials = detectSocialLogins();
            const socialContainer = document.getElementById('social-detection');
            socialContainer.innerHTML = socials.map(s => `
                <div class="social-badge ${s.detected ? 'detected' : 'not-detected'}">
                    ${s.detected ? '‚ö†Ô∏è' : '‚úì'} ${s.name}
                </div>
            `).join('');

            // Battery
            const battery = await getBatteryInfo();
            document.getElementById('battery-level').textContent = battery.level;
            document.getElementById('charging-status').textContent = battery.charging;

            // Sensors
            document.getElementById('accelerometer').textContent = (window.DeviceMotionEvent) ? 'Available' : 'Not Available';
            document.getElementById('gyroscope').textContent = (window.DeviceOrientationEvent) ? 'Available' : 'Not Available';

            // Media devices
            if (navigator.mediaDevices) {
                document.getElementById('camera-access').textContent = 'Available to Request';
                document.getElementById('mic-access').textContent = 'Available to Request';
            } else {
                document.getElementById('camera-access').textContent = 'Not Available';
                document.getElementById('mic-access').textContent = 'Not Available';
            }

            // Geolocation
            document.getElementById('geolocation').textContent = ('geolocation' in navigator) ? 'Available' : 'Not Available';

            // IP and location
            const ipInfo = await getIPInfo();
            if (ipInfo) {
                document.getElementById('ip-address').textContent = ipInfo.ip;
                document.getElementById('location').textContent = `${ipInfo.city}, ${ipInfo.region}, ${ipInfo.country_name}`;
                document.getElementById('isp').textContent = ipInfo.org || 'Unknown';

                // Basic VPN detection (not always accurate)
                const isVPN = ipInfo.org?.toLowerCase().includes('vpn') ||
                              ipInfo.org?.toLowerCase().includes('proxy') ||
                              ipInfo.org?.toLowerCase().includes('hosting');
                document.getElementById('vpn-status').textContent = isVPN ? 'Possibly' : 'No';
            } else {
                document.getElementById('ip-address').textContent = 'Could not detect';
                document.getElementById('location').textContent = 'Could not detect';
                document.getElementById('isp').textContent = 'Could not detect';
                document.getElementById('vpn-status').textContent = 'Unknown';
            }

            // Generate recommendations
            setTimeout(() => {
                generateRecommendations();
                updatePrivacyScore();
            }, 1500);
        }

        // Start when DOM is ready
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
